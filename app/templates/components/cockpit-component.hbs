{{player-infos me=me}}

<div id="workbench">
  <h2>Workbench</h2>
  <div id="workbench-item-container" class="item-container">
    <img src="assets/images/rocket_workbench.png" />

    {{!-- CANON --}}
    {{#if (if-equals me.user.rocket.canon.status 'unlocked') }}
      <span id="canon" class="block-button" {{action "toggleComponentModelSelection" me.user.rocket.canon}}>
        {{unbound (fa-icon "fa-bullseye")}}
        <div class="info">
          {{me.user.rocket.canon.selectedRocketComponentModelMm.rocketComponentModel.model}}
        </div>
      </span>
      {{#if showCanonModels}}
        <div class="models canon-models">
          <span class="block-button coming_soon">
            <span class="fa-stack">
              {{unbound (fa-icon "fa-bullseye" stack=1)}}
              {{#tooltip-component tooltip="Upgrades are coming soon..."}}
                {{unbound (fa-icon "fa-clock-o tooltip-icon" stack=1)}}
              {{/tooltip-component}}
            </span>
          </span>
        </div>
      {{/if}}
    {{else}}
      {{#if (if-equals me.user.rocket.canon.status 'under_construction') }}
        <span id="canon" class="fa-stack block-button">
          {{unbound (fa-icon "fa-bullseye" stack=1)}}
          {{timer-component type='canon' component=me.user.rocket.canon}}
        </span>
      {{else}}
        {{#if me.user.rocket.canon}}
          <span id="canon" class="fa-stack block-button" {{action 'buyCanon'}}>
            {{unbound (fa-icon "fa-bullseye" stack=1)}}
            {{#tooltip-component tooltip=me.user.rocket.canon.tooltip}}
              {{unbound (fa-icon "fa-lock locked" stack=1)}}
            {{/tooltip-component}}
          </span>
        {{else}}
          <span id="canon" class="fa-stack block-button">
            {{unbound (fa-icon "fa-circle-o-notch" spin=true)}}
          </span>
        {{/if}}
      {{/if}}
    {{/if}}

    {{!-- SHIELD --}}
    {{#if (if-equals me.user.rocket.shield.status 'unlocked') }}
      <span id="shield" class="block-button" {{action "toggleComponentModelSelection" me.user.rocket.shield}}>
        {{unbound (fa-icon "fa-shield")}}
        <div class="info">
          {{me.user.rocket.shield.selectedRocketComponentModelMm.rocketComponentModel.model}}
        </div>
      </span>
      {{#if showShieldModels}}
        <div class="models shield-models">
          <span class="block-button coming_soon">
            <span class="fa-stack">
              {{unbound (fa-icon "fa-shield" stack=1)}}
              {{#tooltip-component tooltip="Upgrades are coming soon..."}}
                {{unbound (fa-icon "fa-clock-o tooltip-icon" stack=1)}}
              {{/tooltip-component}}
            </span>
          </span>
        </div>
      {{/if}}
    {{else}}
      {{#if (if-equals me.user.rocket.shield.status 'under_construction') }}
        <span id="shield" class="fa-stack block-button">
          {{unbound (fa-icon "fa-shield" stack=1)}}
          {{timer-component type='shield' component=me.user.rocket.shield}}
        </span>
      {{else}}
        {{#if me.user.rocket.shield}}
          <span id="shield" class="fa-stack block-button" {{action 'buyShield'}}>
            {{unbound (fa-icon "fa-shield" stack=1)}}
            {{#tooltip-component tooltip=me.user.rocket.shield.tooltip}}
              {{unbound (fa-icon "fa-lock locked" stack=1)}}
            {{/tooltip-component}}
          </span>
        {{else}}
          <span id="shield" class="fa-stack block-button">
            {{unbound (fa-icon "fa-circle-o-notch" spin=true)}}
          </span>
        {{/if}}
      {{/if}}
    {{/if}}
    {{!-- ENGINE --}}
    {{#if (if-equals me.user.rocket.engine.status 'unlocked') }}
      <span id="engine" class="block-button" {{action "toggleComponentModelSelection" me.user.rocket.engine}}>
        {{unbound (fa-icon "fa-forward")}}
        <div class="info">
          {{me.user.rocket.engine.selectedRocketComponentModelMm.rocketComponentModel.model}}
        </div>
      </span>
      {{#if showEngineModels}}
        <div class="models engine-models">
          <span class="block-button coming_soon">
            <span class="fa-stack">
              {{unbound (fa-icon "fa-forward" stack=1)}}
              {{#tooltip-component tooltip="Upgrades are coming soon..."}}
                {{unbound (fa-icon "fa-clock-o tooltip-icon" stack=1)}}
              {{/tooltip-component}}
            </span>
          </span>
        </div>
      {{/if}}
    {{else}}
      {{#if (if-equals me.user.rocket.engine.status 'under_construction') }}
        <span id="engine" class="fa-stack block-button">
          {{unbound (fa-icon "fa-forward" stack=1)}}
          {{timer-component type='engine' component=me.user.rocket.engine}}
        </span>
      {{else}}
        {{#if me.user.rocket.engine}}
          <span id="engine" class="fa-stack block-button" {{action 'buyEngine'}}>
            {{unbound (fa-icon "fa-forward" stack=1)}}
            {{#tooltip-component tooltip=me.user.rocket.engine.tooltip}}
              {{unbound (fa-icon "fa-lock locked" stack=1)}}
            {{/tooltip-component}}
          </span>
        {{else}}
          <span id="engine" class="fa-stack block-button">
            {{unbound (fa-icon "fa-circle-o-notch" spin=true)}}
          </span>
        {{/if}}
      {{/if}}
    {{/if}}
  </div>
</div>

{{#if show_not_enough_stars_alert}}
  {{#prompt-component}}
		Not enough stars!
	{{/prompt-component}}
{{/if}}
